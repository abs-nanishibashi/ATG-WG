@page
@model GeneralAffairsManagementProject.Pages.NewOrderModel
@{
    ViewData["Title"] = "新規発注画面";
}

<h2>@ViewData["Title"]</h2>

<form method="post">
    <div class="form-group">
        <label for="OrderType">発注方法</label>
        <select asp-for="OrderType" class="form-control">
            <option value="">選択してください</option>
            <option value="オンライン">オンライン</option>
            <option value="電話">電話</option>
            <option value="FAX">FAX</option>
        </select>
    </div>

    <div class="form-group">
        <label for="Category">カテゴリ</label>
        <select asp-for="Category" class="form-control" id="categorySelect">
            <option value="">選択してください</option>
            <option value="食品">食品</option>
            <option value="工具">工具</option>
        </select>
    </div>

    <div class="form-group">
        <label for="ItemName">品目名 <span style="color:red">*</span></label>
        <select asp-for="ItemName" class="form-control" id="itemSelect" required>
            <option value="">選択してください</option>
        </select>
    </div>

    <div class="form-group">
        <label for="Quantity">数量 <span style="color:red">*</span></label>
        <input asp-for="Quantity" type="number" class="form-control" min="1" max="99" required />
    </div>

    <br />
    <button type="submit" class="btn btn-primary">追加</button>
    <a href="/Index" class="btn btn-secondary">キャンセル</a>
</form>

@section Scripts {
<script>
    document.getElementById("categorySelect").addEventListener("change", function () {
        var category = this.value;
        var itemSelect = document.getElementById("itemSelect");
        itemSelect.innerHTML = "";

        if (category === "食品") {
            itemSelect.innerHTML += "<option value='米'>米</option>";
            itemSelect.innerHTML += "<option value='パン'>パン</option>";
        } else if (category === "工具") {
            itemSelect.innerHTML += "<option value='ドライバー'>ドライバー</option>";
            itemSelect.innerHTML += "<option value='ハンマー'>ハンマー</option>";
        }
    });
</script>
}
